GO
USE [SEDPLAN];
GO

CREATE FUNCTION DBO.FUN_CALBP_LRNUM(@MODE VARCHAR(3), @LHS INT, @RHS INT, @MOTORPOS VARCHAR(5))
RETURNS INT
AS
BEGIN

	DECLARE @LRNUM INT = 0;

	IF @LHS=@RHS
	BEGIN
		SET @LRNUM = @LHS;
	END
	ELSE
	BEGIN
		IF @MODE='LHS'
		BEGIN
			IF LTRIM(RTRIM(@MOTORPOS))='L'
			BEGIN
				SET @LRNUM=@LHS;
			END

			ELSE IF LTRIM(RTRIM(@MOTORPOS))='R'
			BEGIN
				SET @LRNUM=@RHS;
			END
		END

		ELSE IF @MODE='RHS'
		BEGIN
			IF LTRIM(RTRIM(@MOTORPOS))='L'
			BEGIN
				SET @LRNUM=@RHS;
			END

			ELSE IF LTRIM(RTRIM(@MOTORPOS))='R'
			BEGIN
				SET @LRNUM=@LHS;
			END
		END
	END

	RETURN @LRNUM;
END